<%- include("./partials/header", {title: "Jobs"}) %>

<section class="py-12 bg-gray-100 sm:py-16">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl text-center font-bold text-gray-900 sm:text-3xl">
      Find a job
    </h1>

    <div class="bg-white max-w-4xl mx-auto mt-8 px-2 py-5 rounded-md">
      <% if (jobs.length === 0) { %>
      <p class="text-lg text-gray-700 text-center">
        There are no jobs posted yet, please come back later.
      </p>
      <% } else { %>
      <ul>
        <% jobs.forEach(job => { %>
        <li
          class="border-2 border-gray-200 rounded-xl flex px-3 py-2 items-center justify-between my-4"
        >
          <div class="flex flex-row items-center">
            <img
              src="/images/profilePlaceholder.svg"
              alt="company logo"
              class="block h-14 w-14 rounded-full"
            />

            <div class="pl-4">
              <h4 class="font-semibold text-lg"><%= job.title %></h4>
              <p><%= job.company %></p>
              <p class="">
                <span
                  class="text-xs border-[1px] border-gray-300 px-2 py-1 rounded-2xl"
                >
                  <%= job.location %>
                </span>
              </p>
            </div>
          </div>

          <div class="flex flex-row items-center gap-x-4">
            <div class="hidden sm:block">
              <p
                class="inline-block py-1 px-3 border-2 border-gray-800 text-gray-800 text-sm rounded-2xl font-medium"
              >
                <%= job.workplace %>
              </p>
              <p
                class="inline-block py-1 px-3 border-2 border-gray-800 text-gray-800 text-sm rounded-2xl font-medium"
              >
                <%= job.type %>
              </p>
            </div>
            <p class="text-xs">
              <%= job.createdAt.getDate() + " " +
              job.createdAt.toLocaleString("default", {month: "long"}) %>
              <br />
              <%= job.createdAt.getFullYear() %>
            </p>
            <p>
              <a class="btn-primary px-5 py-1" href="#">Apply</a>
            </p>
          </div>
        </li>
        <% }) %>
      </ul>
      <% } %>
    </div>
  </div>
</section>

<%- include("./partials/footer") %>
